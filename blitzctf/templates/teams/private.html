{% extends "base.html" %}

{% block stylesheets %}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
<style>
	@import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');
	
	body {
		background: linear-gradient(135deg, #1a1a1a, #2a2a2a);
		font-family: 'Press Start 2P', monospace;
		color: #CCCCCC;
		min-height: 100vh;
	}

	/* Modal Styles */
	.modal-content {
		background: linear-gradient(135deg, #2a2a2a, #3c3c3c);
		border: 3px solid #555555;
		box-shadow: 4px 4px 0 #222222;
		border-radius: 8px;
		color: #CCCCCC;
	}

	.modal-header {
		border-bottom: 2px solid #FFD700;
		background: #3c3c3c;
	}

	.modal-header h2 {
		color: #FFD700;
		text-shadow: 2px 2px #8B0000;
		font-size: 16px;
	}

	.modal-header .close {
		color: #FFD700;
		font-size: 20px;
		opacity: 1;
		text-shadow: none;
	}

	.modal-header .close:hover {
		color: #FFFFFF;
	}

	.modal-body {
		background: #2a2a2a;
	}

	.form-group label, .form-group b {
		color: #FFD700;
		font-size: 10px;
	}

	.form-control {
		background: #3C3C3C;
		border: 2px solid #8B7500;
		color: #FFD700;
		box-shadow: 2px 2px 0 #000000;
		border-radius: 4px;
		font-family: 'Press Start 2P', monospace;
		font-size: 10px;
		padding: 8px;
	}

	.form-control:focus {
		background: #505050;
		border-color: #FFD700;
		box-shadow: 0 0 8px #FFD700;
		color: #FFD700;
	}

	.form-text {
		color: #AAAAAA;
		font-size: 8px;
	}

	.btn-primary {
		background: #4A90E2;
		color: #FFFFFF;
		font-family: 'Press Start 2P', monospace;
		font-size: 10px;
		padding: 8px 16px;
		border: 2px solid #2A5DB0;
		box-shadow: 2px 2px 0 #2A5DB0;
		text-transform: uppercase;
		border-radius: 4px;
	}

	.btn-primary:hover {
		background: #2A5DB0;
		box-shadow: 2px 2px 5px #1A3A6D;
		color: #FFFFFF;
	}

	.btn-outline-secondary {
		background: #3C3C3C;
		color: #FFD700;
		border: 2px solid #8B7500;
		box-shadow: 2px 2px 0 #000000;
		font-family: 'Press Start 2P', monospace;
		font-size: 10px;
	}

	.btn-outline-secondary:hover {
		background: #505050;
		color: #FFD700;
	}

	/* Main Content Styles */
	.retro-header {
		background: linear-gradient(135deg, #3c3c3c, #4a4a4a);
		border: 3px solid #FFD700;
		box-shadow: 4px 4px 0 #8B0000;
		border-radius: 8px;
		padding: 2rem;
		margin: 2rem 0;
		text-align: center;
		position: relative;
		overflow: hidden;
	}

	.retro-header::before {
		content: '';
		position: absolute;
		top: 0;
		left: 0;
		right: 0;
		height: 3px;
		background: repeating-linear-gradient(
			90deg,
			#FFD700 0px,
			#FFD700 8px,
			transparent 8px,
			transparent 16px
		);
	}

	.retro-header h1 {
		color: #FFD700;
		text-shadow: 3px 3px #8B0000;
		font-size: 24px;
		margin-bottom: 1.5rem;
		text-transform: uppercase;
		letter-spacing: 2px;
	}

	.retro-header h2 {
		color: #4A90E2;
		text-shadow: 2px 2px #2A5DB0;
		font-size: 16px;
		margin: 0.8rem 0;
		letter-spacing: 1px;
	}

	.retro-header h3 {
		font-size: 10px;
		margin: 0.3rem 0.5rem;
		display: inline-block;
	}

	.badge {
		background: #FFD700;
		color: #000000;
		font-family: 'Press Start 2P', monospace;
		font-size: 8px;
		padding: 6px 10px;
		border: 2px solid #B8860B;
		box-shadow: 2px 2px 0 #8B6914;
		border-radius: 4px;
		text-transform: uppercase;
		display: inline-block;
		margin: 0.2rem;
		font-weight: normal;
	}

	.badge-primary {
		background: #FFD700;
		color: #000000;
		border-color: #B8860B;
		box-shadow: 2px 2px 0 #8B6914;
	}

	.control-icons {
		margin-top: 2rem;
		display: flex;
		justify-content: center;
		align-items: center;
		gap: 1.5rem;
		flex-wrap: wrap;
		padding-top: 1rem;
		border-top: 2px solid #555555;
	}

	.btn-fa {
		background: #4A90E2;
		color: #FFFFFF;
		padding: 12px 16px;
		border: 3px solid #2A5DB0;
		box-shadow: 3px 3px 0 #1A3A6D;
		border-radius: 6px;
		text-decoration: none;
		transition: all 0.2s ease;
		cursor: pointer;
		display: inline-flex;
		align-items: center;
		justify-content: center;
		min-width: 48px;
		min-height: 48px;
	}

	.btn-fa:hover {
		background: #2A5DB0;
		color: #FFFFFF;
		box-shadow: 1px 1px 0 #0F2347;
		transform: translate(2px, 2px);
		text-decoration: none;
	}

	.btn-fa.fa-disabled {
		background: #555555;
		color: #888888;
		border-color: #333333;
		box-shadow: 3px 3px 0 #222222;
		cursor: not-allowed;
	}

	.btn-fa.fa-disabled:hover {
		background: #555555;
		color: #888888;
		transform: none;
		box-shadow: 3px 3px 0 #222222;
	}

	/* Section Styles */
	.retro-section {
		background: linear-gradient(135deg, #2a2a2a, #3c3c3c);
		border: 2px solid #555555;
		box-shadow: 3px 3px 0 #222222;
		border-radius: 6px;
		margin: 2rem 0;
		padding: 1.5rem;
		position: relative;
	}

	.retro-section::before {
		content: '';
		position: absolute;
		top: 0;
		left: 0;
		right: 0;
		height: 2px;
		background: repeating-linear-gradient(
			90deg,
			#4A90E2 0px,
			#4A90E2 8px,
			transparent 8px,
			transparent 16px
		);
	}

	.retro-section h3 {
		color: #FFD700;
		text-shadow: 2px 2px #8B0000;
		font-size: 14px;
		margin-bottom: 1rem;
		text-transform: uppercase;
		border-bottom: 2px solid #FFD700;
		padding-bottom: 0.5rem;
	}

	/* Table Styles */
	.table {
		background: #1a1a1a;
		border: 3px solid #FFD700;
		border-radius: 6px;
		overflow: hidden;
		font-family: 'Press Start 2P', monospace;
		font-size: 10px;
		box-shadow: 3px 3px 0 #8B6914;
	}

	.table thead {
		background: linear-gradient(135deg, #FFD700, #B8860B);
		color: #000000;
	}

	.table thead td {
		border-bottom: 2px solid #8B6914;
		padding: 12px 16px;
		text-transform: uppercase;
		font-weight: bold;
		text-shadow: 1px 1px 0 #FFFFFF;
	}

	.table tbody tr {
		background: #2a2a2a;
		border-bottom: 1px solid #444444;
	}

	.table tbody tr:nth-child(even) {
		background: #353535;
	}

	.table tbody tr:hover {
		background: #4A90E2;
		color: #FFFFFF;
		text-shadow: 1px 1px 0 #2A5DB0;
	}

	.table tbody td {
		padding: 12px 16px;
		color: #CCCCCC;
		border: none;
		vertical-align: middle;
	}

	.table tbody td a {
		color: #FFD700;
		text-decoration: none;
		text-shadow: 1px 1px #8B6914;
	}

	.table tbody td a:hover {
		color: #FFFFFF;
		text-shadow: 1px 1px #FFD700;
	}

	.table tbody tr:hover td a {
		color: #FFFFFF;
		text-shadow: 1px 1px #2A5DB0;
	}

	/* Graph Containers */
	.graph-container {
		background: #1a1a1a;
		border: 2px solid #4A90E2;
		border-radius: 6px;
		padding: 1rem;
		margin: 1rem 0;
		min-height: 300px;
		position: relative;
	}

	.graph-container::before {
		content: '';
		position: absolute;
		top: 5px;
		left: 5px;
		right: 5px;
		bottom: 5px;
		border: 1px dashed #4A90E2;
		border-radius: 4px;
		opacity: 0.5;
	}

	/* Awards Section */
	.award-container {
		background: linear-gradient(135deg, #3c3c3c, #2a2a2a);
		border: 2px solid #FFD700;
		border-radius: 6px;
		padding: 1rem;
		margin: 0.5rem;
		text-align: center;
		box-shadow: 3px 3px 0 #8B6914;
	}

	.award-icon {
		color: #FFD700;
		text-shadow: 2px 2px #8B0000;
		margin-bottom: 0.5rem;
	}

	.award-container strong {
		color: #FFD700;
		font-size: 10px;
		text-transform: uppercase;
	}

	.award-container p {
		color: #CCCCCC;
		font-size: 8px;
		margin: 0.5rem 0;
	}

	/* No Content Message */
	.no-content {
		text-align: center;
		padding: 3rem;
		color: #666666;
		font-size: 14px;
		text-transform: uppercase;
		background: repeating-linear-gradient(
			45deg,
			#2a2a2a,
			#2a2a2a 10px,
			#3c3c3c 10px,
			#3c3c3c 20px
		);
		border: 2px solid #444444;
		border-radius: 6px;
	}

	/* Spinner */
	.spinner {
		color: #4A90E2;
	}

	/* Additional CSS for better layout */
	.team-badges {
		margin: 1rem 0;
		line-height: 2;
	}

	.team-scores {
		margin: 1.5rem 0;
		padding: 1rem 0;
		border-top: 1px solid #555555;
		border-bottom: 1px solid #555555;
	}

	.team-scores h2 {
		margin: 0.5rem 0;
	}

	.team-scores small {
		font-size: 60%;
		color: #AAAAAA;
		text-transform: lowercase;
	}

	/* Responsive adjustments */
	@media (max-width: 768px) {
		.retro-header h1 { font-size: 18px; }
		.retro-header h2 { font-size: 14px; }
		.retro-section h3 { font-size: 12px; }
		.table { font-size: 8px; }
		.control-icons { gap: 0.5rem; }
		.btn-fa { padding: 8px 12px; min-width: 40px; min-height: 40px; }
	}

	/* Input group styling */
	.input-group {
		border: 2px solid #8B7500;
		border-radius: 4px;
		overflow: hidden;
		box-shadow: 2px 2px 0 #000000;
	}

	.input-group .form-control {
		border: none;
		box-shadow: none;
		border-radius: 0;
	}

	.input-group-append .btn {
		border-radius: 0;
		border: none;
		border-left: 2px solid #8B7500;
	}
</style>
{% endblock %}

{% block content %}
	<div id="team-edit-modal" class="modal fade">
		<div class="modal-dialog modal-lg">
			<div class="modal-content">
				<div class="modal-header">
					<h2 class="modal-action text-center w-100">Edit Team</h2>
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-body clearfix">
					{% with form = Forms.teams.TeamSettingsForm(obj=team) %}
					{% from "macros/forms.html" import render_extra_fields %}
					<form id="team-info-form" method="POST">
						<div class="form-group">
							<b>{{ form.name.label }}</b>
							{{ form.name(class="form-control") }}
							<small class="form-text text-muted">
								{{ form.name.description }}
							</small>
						</div>
						<div class="form-group">
							<b>{{ form.password.label }}</b>
							{{ form.password(class="form-control") }}
							<small class="form-text text-muted">
								{{ form.password.description }}
							</small>
						</div>
						<div class="form-group">
							<b>{{ form.confirm.label }}</b>
							{{ form.confirm(class="form-control") }}
							<small class="form-text text-muted">
								{{ form.confirm.description }}
							</small>
						</div>
						<div class="form-group">
							<b>{{ form.website.label }}</b>
							{{ form.website(class="form-control") }}
							<small class="form-text text-muted">
								{{ form.website.description }}
							</small>
						</div>
						<div class="form-group">
							<b>{{ form.affiliation.label }}</b>
							{{ form.affiliation(class="form-control") }}
							<small class="form-text text-muted">
								{{ form.affiliation.description }}
							</small>
						</div>
						<div class="form-group">
							<b>{{ form.country.label }}</b>
							{{ form.country(class="form-control custom-select") }}
							<small class="form-text text-muted">
								{{ form.country.description }}
							</small>
						</div>

						<hr>

						{{ render_extra_fields(form.extra) }}

						<div id="results">

						</div>
						{{ form.submit(class="btn btn-primary btn-outlined float-right modal-action") }}
					</form>
					{% endwith %}
				</div>
			</div>
		</div>
	</div>

	<div id="team-captain-modal" class="modal fade">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<h2 class="modal-action text-center w-100">Choose Captain</h2>
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-body clearfix">
					{% with form = Forms.teams.TeamCaptainForm(captain_id=team.captain_id) %}
					<form id="team-captain-form" method="POST">
						<div class="form-group">
							{{ form.captain_id.label }}
							{% for member in team.members %}
								{# Append members to the select choices #}
								{% set _ = form.captain_id.choices.append((member.id, member.name)) %}
							{% endfor %}
							{{ form.captain_id(class="form-control custom-select") }}
						</div>
						<div id="results">
						</div>
						{{ form.submit(class="btn btn-primary btn-outlined float-right modal-action") }}
					</form>
					{% endwith %}
				</div>
			</div>
		</div>
	</div>

	<div id="team-invite-modal" class="modal fade">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<h2 class="modal-action text-center w-100">Invite Users</h2>
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-body clearfix">
					{% with form = Forms.teams.TeamInviteForm() %}
					<form method="POST">
						<div class="form-group">
							<b>{{ form.link.label }}</b>
							<div class="input-group mb-3">
								{{ form.link(id="team-invite-link", class="form-control") }}
								<div class="input-group-append">
									<button id="team-invite-link-copy" class="btn btn-outline-secondary" type="button">
										<i class="fas fa-clipboard"></i>
									</button>
								</div>
							</div>
							<small class="form-text text-muted">
								Share this link with your team members for them to join your team
							</small>
							<small class="form-text text-muted">
								Invite links can be re-used and expire after 1 day
							</small>
						</div>
					</form>
					{% endwith %}
				</div>
			</div>
		</div>
	</div>

	<div class="container">
		<div class="retro-header">
			<h1 id="team-id" team-id="{{ team.id }}">{{ team.name }}</h1>
			
			<div class="team-badges">
				{% if team.oauth_id %}
					<a href="https://majorleaguecyber.org/t/{{ team.name }}">
						<span class="badge badge-primary">Official</span>
					</a>
				{% endif %}
				{% if team.affiliation %}
					<span class="badge badge-primary">{{ team.affiliation }}</span>
				{% endif %}
				{% if team.country %}
					<span class="badge badge-primary">
						<i class="flag-{{ team.country.lower() }}"></i>
						{{ lookup_country_code(team.country) }}
					</span>
				{% endif %}
			</div>

			{% for field in team.fields %}
				<h3 class="d-block">
					{{ field.name }}: {{ field.value }}
				</h3>
			{% endfor %}
			
			<div class="team-scores">
				<h2 id="team-place" class="text-center">
					{# This intentionally hides the team's place when scores are hidden because this can be their internal profile
				and we don't want to leak their place in the CTF. #}
					{# Public page hiding is done at the route level #}
					{% if scores_visible() %}
						{% if place %}
							{{ place }}
							<small>place</small>
						{% endif %}
					{% endif %}
				</h2>
				<h2 id="team-score" class="text-center">
					{% if score %}
						{{ score }}
						<small>points</small>
					{% endif %}
				</h2>
			</div>

<div class="control-icons">
    <a href="#" class="edit-team">
        {% if team.captain_id == user.id %}
            <i class="btn-fa fas fa-cogs fa-lg"
               data-toggle="tooltip"
               data-placement="top"
               title="Edit Team"></i>
        {% else %}
            <i class="btn-fa fas fa-cogs fa-lg fa-disabled"
               data-toggle="tooltip"
               data-placement="top"
               title="Only team captains can edit team information"></i>
        {% endif %}
    </a>

    <a href="#" class="edit-captain">
        {% if team.captain_id == user.id %}
            <i class="btn-fa fas fa-user-tag fa-lg" data-toggle="tooltip" data-placement="top"
               title="Choose Captain"></i>
        {% else %}
            <i class="btn-fa fas fa-user-tag fa-lg fa-disabled"
               data-toggle="tooltip"
               data-placement="top"
               title="Only team captains can choose a new captain"></i>
        {% endif %}
    </a>

    <a href="#" class="invite-members">
        {% if team.captain_id == user.id %}
            <i class="btn-fa fas fa-ticket-alt fa-lg" data-toggle="tooltip" data-placement="top"
               title="Invite Users"></i>
        {% else %}
            <i class="btn-fa fas fa-ticket-alt fa-lg fa-disabled"
                data-toggle="tooltip"
                data-placement="top"
                title="Only team captains can generate invite links"></i>
        {% endif %}
    </a>

    <a href="#" class="disband-team">
        {% if team.captain_id == user.id %}
            <i class="btn-fa fas fa-trash-alt fa-lg" data-toggle="tooltip" data-placement="top"
                title="Disband Team"></i>
        {% else %}
            <i class="btn-fa fas fa-trash-alt fa-lg fa-disabled"
                data-toggle="tooltip"
                data-placement="top"
                title="Only team captains can disband the team"></i>
        {% endif %}
    </a>

    {% if team.website and (team.website.startswith('http://') or team.website.startswith('https://')) %}
        <a href="{{ team.website }}" target="_blank" style="color: inherit;" rel="noopener">
            <i class="btn-fa fas fa-external-link-alt fa-lg" data-toggle="tooltip" data-placement="top"
               title="{{ team.website }}"></i>
        </a>
    {% endif %}
</div>

		{% include "components/errors.html" %}

		<div class="retro-section">
			<h3>Team Members</h3>
			<div class="table-responsive">
				<table class="table table-striped">
					<thead>
						<tr>
							<td><b>User Name</b></td>
							<td><b>Score</b></td>
						</tr>
					</thead>
					<tbody>
						{% for member in team.members %}
							<tr>
								<td>
									<a href="{{ url_for('users.public', user_id=member.id) }}">
										{{ member.name }}
									</a>
									{% if team.captain_id == member.id %}
										<span class="badge badge-primary ml-2">Captain</span>
									{% endif %}
								</td>
								<td>{{ member.score }}</td>
							</tr>
						{% endfor %}
					</tbody>
				</table>
			</div>
		</div>

		{% if solves or awards %}
			<div class="retro-section">
				<h3>Team Statistics</h3>
				<div class="row">
					<div class="col-md-6 d-none d-md-block d-lg-block">
						<div id="keys-pie-graph" class="graph-container d-flex align-items-center">
							<div class="text-center w-100">
								<i class="fas fa-circle-notch fa-spin fa-3x fa-fw spinner"></i>
							</div>
						</div>
					</div>
					<div class="col-md-6 d-none d-md-block d-lg-block">
						<div id="categories-pie-graph" class="graph-container d-flex align-items-center">
							<div class="text-center w-100">
								<i class="fas fa-circle-notch fa-spin fa-3x fa-fw spinner"></i>
							</div>
						</div>
					</div>
					<div class="col-md-12 d-none d-md-block d-lg-block">
						<div id="score-graph" class="graph-container w-100 d-flex align-items-center">
							<div class="text-center w-100">
								<i class="fas fa-circle-notch fa-spin fa-3x fa-fw spinner"></i>
							</div>
						</div>
					</div>
				</div>
			</div>

			{% if awards %}
				<div class="retro-section">
					<h3>Team Awards</h3>
					<div class="row">
						{% for award in awards %}
							<div class="col-md-3 col-sm-6">
								<div class="award-container">
									<i class="award-icon award-{{ award.icon }} fa-2x"></i>
									<br>
									<strong>{{ award.name }}</strong>
									{% if award.category %}<p>{{ award.category }}</p>{% endif %}
									{% if award.description %}<p>{{ award.description }}</p>{% endif %}
									<p>{{ award.value }} points</p>
								</div>
							</div>
						{% endfor %}
					</div>
				</div>
			{% endif %}


<div class="retro-section">
				<h3>Challenge Solves</h3>
				<div class="table-responsive">
					<table class="table table-striped">
						<thead>
							<tr>
								<td><b>Challenge</b></td>
								<td class="d-none d-md-block d-lg-block"><b>Category</b></td>
								<td><b>Value</b></td>
								<td><b>Time</b></td>
							</tr>
						</thead>
						<tbody>
							{% for solve in solves %}
								<tr>
									<td>
										<a href="{{ url_for('challenges.listing') }}#{{ solve.challenge.name }}-{{ solve.challenge.id }}">
											{{ solve.challenge.name }}
										</a>
									</td>
									<td class="d-none d-md-block d-lg-block">{{ solve.challenge.category }}</td>
									<td>{{ solve.challenge.value }}</td>
									<td class="solve-time">
										<span data-time="{{ solve.date | isoformat }}">{{ solve.date }}</span>
									</td>
								</tr>
							{% endfor %}
						</tbody>
					</table>
				</div>
			</div>
		{% else %}
			<div class="retro-section">
				<div class="no-content">
					<h3>No Solves Yet</h3>
					<p>Start solving challenges to see your progress here!</p>
				</div>
			</div>
		{% endif %}
	</div>
{% endblock %}

{% block scripts %}
	<script>
		var stats_data = {{ {
			'type': 'team',
			'id': team.id,
			'name': team.name,
			'account_id': 'me',
		} | tojson }};
		var team_captain = {{ (user.id == team.captain_id) | tojson }};
	</script>

	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/4.6.0/js/bootstrap.min.js"></script>

	<script>
document.addEventListener('DOMContentLoaded', function() {
    // Edit Team Modal
    document.querySelector('.edit-team').addEventListener('click', function(e) {
        e.preventDefault();
        if (!this.querySelector('i').classList.contains('fa-disabled')) {
            $('#team-edit-modal').modal('show');
        }
    });

    // Choose Captain Modal
    document.querySelector('.edit-captain').addEventListener('click', function(e) {
        e.preventDefault();
        if (!this.querySelector('i').classList.contains('fa-disabled')) {
            $('#team-captain-modal').modal('show');
        }
    });

    // Invite Members Modal
    document.querySelector('.invite-members').addEventListener('click', function(e) {
        e.preventDefault();
        if (!this.querySelector('i').classList.contains('fa-disabled')) {
            $('#team-invite-modal').modal('show');
        }
    });

    // Copy invite link
    const copyBtn = document.getElementById('team-invite-link-copy');
    if (copyBtn) {
        copyBtn.addEventListener('click', function() {
            const copyText = document.getElementById("team-invite-link");
            copyText.select();
            copyText.setSelectionRange(0, 99999);
            document.execCommand("copy");
            
            this.innerHTML = '<i class="fas fa-check"></i>';
            setTimeout(() => {
                this.innerHTML = '<i class="fas fa-clipboard"></i>';
            }, 2000);
        });
    }

    // Disband team
    document.querySelector('.disband-team').addEventListener('click', function(e) {
        e.preventDefault();
        if (!this.querySelector('i').classList.contains('fa-disabled')) {
            if (confirm('Are you sure you want to disband this team? This action cannot be undone.')) {
                console.log('Disband team functionality - add your logic here');
            }
        }
    });
});
</script>


	<script defer src="{{ url_for('views.themes', path='js/echarts.bundle.js') }}"></script>
	{% if solves or awards %}
		<script defer src="{{ url_for('views.themes', path='js/graphs.js') }}"></script>
		<script defer src="{{ url_for('views.themes', path='js/pages/stats.js') }}"></script>
	{% endif %}
{% endblock %}

{% block entrypoint %}
	<script defer src="{{ url_for('views.themes', path='js/pages/teams/private.js') }}"></script>
{% endblock %}